(function(t){function e(e){for(var n,o,i=e[0],c=e[1],l=e[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},s=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},2145:function(t,e,a){"use strict";var n=a("39a6"),r=a.n(n);r.a},2204:function(t,e,a){},"34d9":function(t,e,a){"use strict";var n=a("8db2"),r=a.n(n);r.a},"39a6":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-navigation-drawer",{attrs:{app:"",temporary:""},model:{value:t.showMobileMenu,callback:function(e){t.showMobileMenu=e},expression:"showMobileMenu"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"300",tile:""}},[a("v-list",{attrs:{dense:""}},[a("v-subheader",[t._v("REPORTS")]),a("v-list-item-group",{attrs:{color:"primary"}},t._l(t.checkAuth?t.authMenu:t.unAuthMenu,(function(e,n){return a("v-list-item",{key:n,attrs:{to:e.path}},[a("v-list-item-icon",[a("v-icon",{domProps:{textContent:t._s(e.icon)}})],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.text)}})],1)],1)})),1)],1)],1)],1),a("v-app-bar",{attrs:{app:""}},[a("v-app-bar-nav-icon",{staticClass:"hidden-md-and-up",on:{click:function(e){t.showMobileMenu=!0}}}),a("v-toolbar-title",[a("router-link",{staticStyle:{cursor:"pointer"},attrs:{to:"/",tag:"span"}},[t._v("Sten Ready App")])],1),a("v-spacer"),a("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[t._l(t.checkAuth?t.authMenu:t.unAuthMenu,(function(e,n){return a("v-btn",{key:n,class:e.className,attrs:{text:"",small:"",to:e.path}},[a("v-icon",{attrs:{left:"",size:"1.3rem"}},[t._v(t._s(e.icon))]),t._v(" "+t._s(e.text)+" ")],1)})),t.checkAuth?a("v-menu",{attrs:{"offset-y":t.offsetY},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({staticStyle:{"text-transform":"lowercase"},attrs:{color:"primary"}},n),[t._v(" "+t._s(t.getUser.email)+" "),a("v-icon",[t._v("keyboard_arrow_down")])],1)]}}],null,!1,204459252)},[a("v-list",[a("v-list-item",{staticClass:"list_item_menu",staticStyle:{cursor:"pointer"}},[a("v-list-item-title",[a("v-icon",{staticClass:"icon_set"},[t._v("settings")]),t._v(" Setting ")],1)],1),a("v-list-item",{staticClass:"list_item_menu",staticStyle:{cursor:"pointer"},attrs:{to:"/logaut"}},[a("v-list-item-title",[a("v-icon",{staticClass:"icon_set"},[t._v("exit_to_app")]),t._v("Logaut ")],1)],1)],1)],1):t._e()],2)],1),a("v-content",[a("v-container",{attrs:{fluid:""}},[a("router-view")],1)],1),a("v-footer",{attrs:{app:""}})],1)},s=[],o=a("5530"),i=a("2f62"),c={name:"App",data:function(){return{showMobileMenu:!1,offsetY:!0}},computed:Object(o["a"])({},Object(i["c"])(["checkAuth","authMenu","unAuthMenu","getUser"])),methods:{}},l=c,u=(a("abb8"),a("2877")),d=a("6544"),p=a.n(d),m=a("7496"),f=a("40dc"),v=a("5bc1"),h=a("8336"),_=a("b0af"),b=a("a523"),g=a("a75b"),x=a("553a"),w=a("132d"),C=a("8860"),O=a("da13"),y=a("5d23"),T=a("1baa"),V=a("34c3"),k=a("e449"),E=a("f774"),A=a("2fa4"),S=a("e0c7"),R=a("2a7f"),P=Object(u["a"])(l,r,s,!1,null,null,null),j=P.exports;p()(P,{VApp:m["a"],VAppBar:f["a"],VAppBarNavIcon:v["a"],VBtn:h["a"],VCard:_["a"],VContainer:b["a"],VContent:g["a"],VFooter:x["a"],VIcon:w["a"],VList:C["a"],VListItem:O["a"],VListItemContent:y["a"],VListItemGroup:T["a"],VListItemIcon:V["a"],VListItemTitle:y["b"],VMenu:k["a"],VNavigationDrawer:E["a"],VSpacer:A["a"],VSubheader:S["a"],VToolbarItems:R["a"],VToolbarTitle:R["b"]});a("45fc");var L=a("8c4f"),N=(a("96cf"),a("1da1")),$=(a("caad"),a("b0c0"),a("d3b7"),a("2532"),a("bc3a")),M=a.n($),D=M.a.create({baseURL:"https://fullstack-junior-app.herokuapp.com/"});D.interceptors.response.use((function(t){var e=t.config.url.includes("auth");if(e){var a=t.data.token,n=t.data.user,r=n.email,s=n.name,o=n._id;localStorage.setItem("user",JSON.stringify({token:a,email:r,name:s,id:o}))}return t}),(function(t){return 401===t.response.status&&(F.commit("CLEAR_AUTH_DATA"),Qt.push("/login")),Promise.reject(t)})),D.interceptors.request.use((function(t){if(!t.url.includes("auth")){var e=JSON.parse(localStorage.getItem("user"));t.headers.common["Authorization"]=e.token}return t}));var I=D,q={state:{auth_triger:!1,auth_user:null},getters:{checkAuth:function(t){return t.auth_triger},getUser:function(t){return t.auth_user}},mutations:{SET_USER_DATA:function(t,e){t.auth_user=e.user,t.auth_triger=!0},CLEAR_AUTH_DATA:function(t){t.auth_user=null,t.auth_triger=!1,localStorage.removeItem("user"),I.defaults.headers.common["Authorization"]=null}},actions:{register:function(t,e){return Object(N["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,I.post("api/auth/register",e);case 2:n=a.sent,t.commit("SET_USER_DATA",n.data);case 4:case"end":return a.stop()}}),a)})))()},login:function(t,e){return Object(N["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,I.post("api/auth/login",e);case 2:n=a.sent,t.commit("SET_USER_DATA",n.data);case 4:case"end":return a.stop()}}),a)})))()}}},H={state:{authHeaderMenu:[{path:"/",icon:"calendar_today",text:"Home",className:"d-none d-sm-flex d-md-none"},{path:"/posts",icon:"stars",text:"posts",className:null},{path:"/create-post",icon:"add",text:"create post",className:null},{path:"/logaut",icon:"input",text:"Logaut",className:"d-none d-sm-flex d-md-none"}],unAuthHeaderMenu:[{path:"/",icon:"calendar_today",text:"Home",className:"d-none d-sm-flex d-md-none"},{path:"/login",icon:"lock_open",text:"Login",className:null},{path:"/register",icon:"account_box",text:"Register",className:null}]},getters:{authMenu:function(t){return t.authHeaderMenu},unAuthMenu:function(t){return t.unAuthHeaderMenu}},mutations:{},actions:{}},U=(a("4de4"),a("4160"),a("a434"),a("159b"),{state:{posts:[],onePost:[],fetch_triger:"all"},getters:{getAllPosts:function(t){return t.posts},getOnePost:function(t){return t.onePost},fetch_triger:function(t){return t.fetch_triger}},mutations:{UPDATE_TITLE_AND_BODY:function(t,e){t.posts.forEach((function(a,n){e._id===a._id&&t.posts.splice(n,1,e)}))},FETCH_ALL_POSTS:function(t,e){t.posts=e},CLEAR_ONE_POST_STATE:function(t){t.onePost=[]},FILTER_TRIGET_SET:function(t,e){t.fetch_triger=e},FETCH_ONE_POST:function(t,e){t.onePost=e},STORE_NEW_POST:function(t,e){t.posts=t.posts.unshift(e)},DELETE_ONE_POST:function(t,e){t.posts=t.posts.filter((function(t){return t._id!==e}))}},actions:{update_post:function(t,e){return Object(N["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",I.post("/api/posts/update",e).then((function(e){t.commit("UPDATE_TITLE_AND_BODY",e.data)})));case 1:case"end":return a.stop()}}),a)})))()},fetch_all_posts:function(t){return Object(N["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,I.get("/api/posts");case 2:a=e.sent,t.commit("FETCH_ALL_POSTS",a.data),t.commit("FILTER_TRIGET_SET","all");case 5:case"end":return e.stop()}}),e)})))()},fetch_only_my_posts:function(t){return Object(N["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,I.post("/api/posts");case 2:a=e.sent,t.commit("FETCH_ALL_POSTS",a.data),t.commit("FILTER_TRIGET_SET","my");case 5:case"end":return e.stop()}}),e)})))()},fetchOnePost:function(t,e){return Object(N["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.commit,a.next=3,I.get("/api/posts/"+e);case 3:r=a.sent,n("CLEAR_ONE_POST_STATE"),n("FETCH_ONE_POST",r.data);case 6:case"end":return a.stop()}}),a)})))()},store_post:function(t,e){return Object(N["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,I.post("api/posts/create",e);case 2:n=a.sent,t.commit("STORE_NEW_POST",n.data);case 4:case"end":return a.stop()}}),a)})))()},delete_one_post:function(t,e){return Object(N["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.commit,a.next=3,I.delete("/api/posts/"+e);case 3:r=a.sent,n("DELETE_ONE_POST",r.data);case 5:case"end":return a.stop()}}),a)})))()}}});n["default"].use(i["a"]);var F=new i["a"].Store({modules:{auth:q,headerMenu:H,posts:U}}),B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("v-container",[a("v-row",{staticClass:"text-center"},[a("v-col",{staticClass:"mx-auto",attrs:{md:"8",sm:"12"}},[a("span",[t._v("Lorem ipsum, dolor sit amet consectetur adipisicing elit. In molestiae, et expedita minima incidunt recusandae accusamus accusantium? Obcaecati rerum aliquam voluptate libero facilis, vitae at incidunt sed doloremque, facere non. Amet esse aliquam, suscipit velit quos quibusdam at voluptatem? Quisquam repellendus numquam nisi fugit doloremque harum ducimus. Vel autem quod nulla voluptatem, repellendus dolores laboriosam ex, eos officiis dolorum esse distinctio ipsa fugiat omnis placeat, ut libero optio aliquam assumenda rerum. Voluptate harum vero sequi maxime quaerat, nihil accusamus nesciunt suscipit dolores ratione natus veritatis commodi tenetur! Dolor officiis distinctio aperiam animi. Nesciunt dolor porro repellendus nam blanditiis corporis architecto beatae vero nemo officia quidem eum, sequi perferendis vitae alias natus repellat! Rerum aperiam quo ipsam esse nemo voluptas illo tempore et porro quasi consequatur quisquam, itaque eligendi neque a odit nobis nisi est numquam explicabo nostrum. Maxime aperiam doloribus excepturi et nobis quaerat aliquam corrupti sit. Ab, molestiae ex.")])])],1)],1)],1)},z=[],J={name:"Home",components:{},methods:{}},G=J,Y=a("62ad"),W=a("0fd9"),Q=Object(u["a"])(G,B,z,!1,null,null,null),K=Q.exports;p()(Q,{VCol:Y["a"],VContainer:b["a"],VRow:W["a"]});var X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[a("v-content",[a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[t._v("Login")]),a("v-spacer")],1),a("v-card-text",[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{rules:t.emailRules,label:"Login",name:"login","prepend-icon":"person",type:"text"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{rules:t.passwordRules,id:"password",label:"Password",name:"password","prepend-icon":"lock",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{disabled:!t.valid||t.load,loading:t.load,color:"primary"},on:{click:t.SendData}},[t._v("Login")])],1)],1)],1)],1)],1)],1)],1)},Z=[],tt={name:"Login",data:function(){return{email:"",valid:!1,password:"",load:!1,emailRules:[function(t){return!!t||"E-mail - обязательное поле"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],passwordRules:[function(t){return!!t||"Пароль - обязательное поле"},function(t){return t&&t.length>=6||"Пароль должен быть больше 6 символов"}]}},computed:Object(o["a"])({},Object(i["c"])(["checkAuth"])),mounted:function(){this.checkAuth&&this.$router.push("/posts")},methods:Object(o["a"])({},Object(i["b"])(["login"]),{SendData:function(){var t=this;this.$refs.form.validate()&&(this.load=!0,this.login({email:this.email,password:this.password}).then((function(e){t.$router.push("posts")})).catch((function(e){t.load=!1,t.$toast.open({message:e.response.data.message,type:"error",position:"top"})})))}})},et=tt,at=a("99d9"),nt=a("4bd4"),rt=a("8654"),st=a("71d9"),ot=Object(u["a"])(et,X,Z,!1,null,null,null),it=ot.exports;p()(ot,{VApp:m["a"],VBtn:h["a"],VCard:_["a"],VCardActions:at["a"],VCardText:at["c"],VCol:Y["a"],VContainer:b["a"],VContent:g["a"],VForm:nt["a"],VRow:W["a"],VSpacer:A["a"],VTextField:rt["a"],VToolbar:st["a"],VToolbarTitle:R["b"]});var ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",{attrs:{justify:"space-around"}},[a("v-col",{attrs:{md:"5",sm:"10"}},[a("h1",{staticClass:"display-5 font-weight-light",attrs:{md:"4"}},[t._v("Register your account")]),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{"append-icon":"favorite_border",rules:t.nameRules,label:"Name",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("v-text-field",{attrs:{"append-icon":"mail",rules:t.emailRules,label:"E-mail"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{"append-icon":"lock",rules:t.passwordRules,label:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-text-field",{attrs:{"append-icon":"lock_open",rules:t.passwordConfirm,label:"confirm password"},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}}),a("v-btn",{staticClass:"mr-4",staticStyle:{"margin-top":"8px"},attrs:{disabled:!t.valid||t.load,color:"error",loading:t.load},on:{click:t.SendData}},[t._v("Register")]),a("v-spacer")],1)],1)],1)],1)},lt=[],ut={name:"Register",data:function(){var t=this;return{valid:!1,load:!1,name:"",email:"",password:"",confirm:"",nameRules:[function(t){return!!t||"Имя должно быть обязательно"}],passwordRules:[function(t){return!!t||"Пароль - обязательное поле"},function(t){return t&&t.length>=6||"Пароль должен быть больше 6 символов"}],passwordConfirm:[function(e){return e===t.password||"пароли должны совпадать"},function(t){return!!t||"Пароль - обязательное поле"},function(t){return t&&t.length>=6||"Пароль должен быть больше 6 символов"}],emailRules:[function(t){return!!t||"E-mail - обязательное поле"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}]}},computed:Object(o["a"])({},Object(i["c"])(["checkAuth"])),mounted:function(){this.checkAuth&&this.$router.push("/posts")},methods:Object(o["a"])({},Object(i["b"])(["register"]),{SendData:function(){var t=this;this.$refs.form.validate()&&(this.load=!0,this.register({name:this.name,email:this.email,password:this.password}).then((function(e){t.load=!1,t.$router.push("posts")})).catch((function(e){t.load=!1,t.$toast.open({message:e.response.data.message,type:"error",position:"top"})})))}})},dt=ut,pt=(a("a894"),Object(u["a"])(dt,ct,lt,!1,null,null,null)),mt=pt.exports;p()(pt,{VBtn:h["a"],VCol:Y["a"],VContainer:b["a"],VForm:nt["a"],VRow:W["a"],VSpacer:A["a"],VTextField:rt["a"]});var ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"posts_root"},[t.loading?a("div",{staticClass:"posts_content"},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"card_wrap_mein"},[a("v-spacer",{staticClass:"hidden-sm-and-down"}),a("div",{staticClass:"d-flex select_custom"},[a("v-select",{attrs:{items:t.select_elems,label:"Фильтрация постов"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1)]),a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"card_wrap_mein"},t._l(t.getAllPosts,(function(e,n){return a("v-card",{key:n,staticClass:"card_set",attrs:{"min-height":"200px"}},[a("div",{staticClass:"card_wrapper"},[a("v-card-title",[t._v(t._s(e.title))]),a("v-card-subtitle",[t._v(" "+t._s(t._f("filterDataTime")(e.date))+" "),a("span",[a("strong",[t._v("Author:")]),t._v(" "+t._s(t._f("filterName")(e.userId.name))+" "),a("strong",[t._v("Email:")]),t._v(" "+t._s(e.userId.email)+" ")])]),a("v-card-text",[a("p",{staticClass:"text--primary"},[t._v(" "+t._s(t._f("exectText")(e.body))+" "),e.body.length>150?a("router-link",{attrs:{to:"/post/"+e._id}},[t._v("Read more...")]):t._e()],1)])],1),a("v-card-actions",[a("v-btn",{attrs:{to:"/post/"+e._id,small:"",color:"success",dark:""}},[t._v("show post")])],1)],1)})),1)])],1)],1)],1):a("div",{staticClass:"loader_m"},[a("div",{staticClass:"wrap_loader"},[a("v-progress-circular",{staticClass:"text-center",attrs:{size:50,color:"primary",indeterminate:""}})],1)])])},vt=[],ht={name:"Posts",data:function(){return{loading:!1,selected:"all",select_elems:[{text:"Все посты",value:"all"},{text:"Мои посты",value:"my"}]}},watch:{selected:function(t){var e=this;"all"==t?this.fetch_all_posts().then((function(){return e.loading=!0})).catch((function(t){})):this.fetch_only_my_posts().then((function(t){e.loading=!0})).catch((function(t){}))}},computed:Object(o["a"])({},Object(i["c"])(["getAllPosts","fetch_triger"])),methods:Object(o["a"])({},Object(i["b"])(["fetch_all_posts","fetch_only_my_posts","auth_error_401"])),mounted:function(){var t=this;"all"==this.fetch_triger&&this.fetch_all_posts().then((function(){t.loading=!0,t.selected="all"})).catch((function(t){})),"my"==this.fetch_triger&&this.fetch_only_my_posts().then((function(e){t.loading=!0,t.selected="my"})).catch((function(t){}))}},_t=ht,bt=(a("34d9"),a("490a")),gt=a("b974"),xt=Object(u["a"])(_t,ft,vt,!1,null,null,null),wt=xt.exports;p()(xt,{VBtn:h["a"],VCard:_["a"],VCardActions:at["a"],VCardSubtitle:at["b"],VCardText:at["c"],VCardTitle:at["d"],VCol:Y["a"],VContainer:b["a"],VProgressCircular:bt["a"],VRow:W["a"],VSelect:gt["a"],VSpacer:A["a"]});var Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"post_root"},[t.loading?a("div",{staticClass:"post_content"},[a("v-container",[a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{width:"600px",eager:""},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Updated your post")])]),a("v-card-text",[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-textarea",{ref:"title",attrs:{rules:t.title_rules,rows:"3",name:"input-4-1",label:"Редактирование тайтла"},model:{value:t.get_inner_title,callback:function(e){t.get_inner_title=e},expression:"get_inner_title"}}),a("v-textarea",{ref:"body",attrs:{rules:t.body_rules,name:"input-4-1",label:"Редактирование поста"},model:{value:t.get_inner_body,callback:function(e){t.get_inner_body=e},expression:"get_inner_body"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:t.canselUpdate}},[t._v("Cansel")]),a("v-btn",{attrs:{disabled:!t.valid,color:"green darken-1",text:""},on:{click:function(e){return t.updateHandler(t.$route.params.id)}}},[t._v("Update")])],1)],1)],1)],1),a("v-row",[a("v-col",{staticClass:"mx-auto",attrs:{md:"9",sm:"12"}},[a("v-card",{attrs:{"min-height":"200px"}},[a("v-card-title",[t._v(t._s(t.getOnePost.title))]),a("v-card-subtitle",[t._v(" "+t._s(t._f("filterDataTime")(t.getOnePost.date))+" "),a("span",[a("strong",[t._v("Author:")]),t._v(" "+t._s(t._f("filterName")(t.getOnePost.userId.name))+" "),a("strong",[t._v("Email:")]),t._v(" "+t._s(t.getOnePost.userId.email)+" ")])]),a("v-card-text",[a("p",{staticClass:"text--primary"},[t._v(t._s(t.getOnePost.body))])]),a("v-card-actions",[t.getOnePost.userId.email===t.getUser.email?a("div",{staticClass:"lider_actions"},[a("v-btn",{staticClass:"post_button",attrs:{small:"",color:"error"},on:{click:t.deleteHandler}},[t._v("delete")]),a("v-btn",{staticClass:"post_button",attrs:{small:"",color:"primary"},on:{click:function(e){t.modal=!0}}},[t._v("edit")])],1):t._e(),a("div",{staticClass:"other_actions"},[a("v-btn",{staticClass:"post_button",attrs:{to:"/posts",small:"",color:"success"}},[t._v("Back")])],1)])],1)],1)],1)],1)],1):a("div",{staticClass:"loader_m"},[a("div",{staticClass:"wrap_loader"},[a("v-progress-circular",{staticClass:"text-center",attrs:{size:50,color:"primary",indeterminate:""}})],1)])])},Ot=[],yt={name:"Post",data:function(){return{loading:!1,modal:!1,valid:!1,title:"",body:"",title_rules:[function(t){return!!t||"Заголовок - обязательное поле"}],body_rules:[function(t){return!!t||"Текст новости - обязательное поле"}]}},methods:Object(o["a"])({},Object(i["b"])(["fetchOnePost","delete_one_post","update_post","auth_error_401"]),{deleteHandler:function(){var t=this;this.delete_one_post(this.$route.params.id).then((function(e){t.$router.push("/posts")})).catch((function(t){}))},updateHandler:function(t){var e=this,a=this.title||this.getOnePost.title,n=this.body||this.getOnePost.body;if(this.$refs.form.validate()){if(this.$refs.title.value===a&&this.$refs.body.value===n)return this.modal=!1,!1;this.update_post({id:t,title:a,body:n}).then((function(t){e.$router.push("/posts")})).catch((function(t){}))}},canselUpdate:function(){this.modal=!1,this.$router.push("/posts")}}),computed:Object(o["a"])({},Object(i["c"])(["getOnePost","getUser"]),{get_inner_title:{get:function(){return this.getOnePost.title},set:function(t){this.title=t}},get_inner_body:{get:function(){return this.getOnePost.body},set:function(t){this.body=t}}}),mounted:function(){var t=this;this.fetchOnePost(this.$route.params.id).then((function(e){t.loading=!0})).catch((function(t){}))}},Tt=yt,Vt=(a("2145"),a("169a")),kt=a("a844"),Et=Object(u["a"])(Tt,Ct,Ot,!1,null,"147468da",null),At=Et.exports;p()(Et,{VBtn:h["a"],VCard:_["a"],VCardActions:at["a"],VCardSubtitle:at["b"],VCardText:at["c"],VCardTitle:at["d"],VCol:Y["a"],VContainer:b["a"],VDialog:Vt["a"],VForm:nt["a"],VProgressCircular:bt["a"],VRow:W["a"],VSpacer:A["a"],VTextarea:kt["a"]});var St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("v-container",[a("v-row",{staticClass:"mx-auto"},[a("v-col",{staticClass:"mx-auto",attrs:{md:"7",sm:"12"}},[a("h1",{staticClass:"display-1 mb-2"},[t._v("Создайте Ваш пост:")]),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{rules:t.titleRules,label:"Заголовок поста"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),a("v-textarea",{attrs:{name:"input-7-1",label:"Текст поста",rules:t.textRules},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}}),a("v-btn",{staticClass:"mr-4",staticStyle:{"margin-top":"8px"},attrs:{disabled:!t.valid||t.load,color:"error",loading:t.load},on:{click:t.donePost}},[t._v("Create")])],1)],1)],1)],1)],1)},Rt=[],Pt={name:"Create",data:function(){return{valid:!1,load:!1,title:"",text:"",titleRules:[function(t){return!!t||"Заголовок - обязательное поле"}],textRules:[function(t){return!!t||"Текст новости - обязательное поле"}]}},components:{},methods:Object(o["a"])({},Object(i["b"])(["store_post","auth_error_401"]),{donePost:function(){var t=this;this.$refs.form.validate()&&(this.load=!0,this.store_post({title:this.title,body:this.text}).then((function(e){t.$router.push("posts")})).catch((function(t){})))}})},jt=Pt,Lt=Object(u["a"])(jt,St,Rt,!1,null,null,null),Nt=Lt.exports;p()(Lt,{VBtn:h["a"],VCol:Y["a"],VContainer:b["a"],VForm:nt["a"],VRow:W["a"],VTextField:rt["a"],VTextarea:kt["a"]});var $t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},Mt=[],Dt={name:"Logaut",components:{},methods:Object(o["a"])({},Object(i["d"])(["CLEAR_AUTH_DATA"])),created:function(){this.CLEAR_AUTH_DATA(),this.$router.push("/")}},It=Dt,qt=Object(u["a"])(It,$t,Mt,!1,null,null,null),Ht=qt.exports,Ut=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ft=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"custom_chank"},[a("h1",{staticClass:"display-3",staticStyle:{"text-align":"center"}},[t._v("Страница не найдена 404")])])}],Bt={name:"NotFound",components:{}},zt=Bt,Jt=(a("fe0d"),Object(u["a"])(zt,Ut,Ft,!1,null,null,null)),Gt=Jt.exports;n["default"].use(L["a"]);var Yt=[{path:"/",name:"Home",component:K},{path:"/login",name:"Login",component:it},{path:"/register",name:"Register",component:mt},{path:"/posts",name:"Posts",component:wt,meta:{super:!0}},{path:"/post/:id",name:"Post",component:At,meta:{super:!0}},{path:"/create-post",name:"NewPost",component:Nt,meta:{super:!0}},{path:"/logaut",name:"Logaut",component:Ht,meta:{super:!0}},{path:"*",name:"NotFound",component:Gt}],Wt=new L["a"]({mode:"history",base:"/",routes:Yt});Wt.beforeEach((function(t,e,a){t.matched.some((function(t){return t.meta.super}))&&!F.state.auth.auth_triger&&a({name:"Login"}),a()}));var Qt=Wt,Kt=a("f309");n["default"].use(Kt["a"]);var Xt=new Kt["a"]({}),Zt=a("b079"),te=a.n(Zt);a("4238"),a("99af"),a("a15b"),a("d81d"),a("fb6a"),a("ac1f"),a("1276");n["default"].filter("filterDataTime",(function(t){var e=new Date(t).toLocaleDateString(),a=new Date(t).toLocaleTimeString().slice(0,5);return" published at ".concat(e," in ").concat(a," ")})),n["default"].filter("exectText",(function(t){return t?t.slice(0,150):t})),n["default"].filter("filterName",(function(t){return t.split(/\s+/).map((function(t){return t[0].toUpperCase()+t.substring(1)})).join(" ")})),n["default"].use(te.a),n["default"].config.productionTip=!1,new n["default"]({router:Qt,store:F,created:function(){var t=JSON.parse(localStorage.getItem("user"));t&&(M.a.defaults.headers.common["Authorization"]=t.token,F.state.auth.auth_triger=!0,F.state.auth.auth_user=t)},vuetify:Xt,render:function(t){return t(j)}}).$mount("#app")},"8db2":function(t,e,a){},a27e:function(t,e,a){},a894:function(t,e,a){"use strict";var n=a("eb6a"),r=a.n(n);r.a},abb8:function(t,e,a){"use strict";var n=a("2204"),r=a.n(n);r.a},eb6a:function(t,e,a){},fe0d:function(t,e,a){"use strict";var n=a("a27e"),r=a.n(n);r.a}});
//# sourceMappingURL=app.1a9374bc.js.map